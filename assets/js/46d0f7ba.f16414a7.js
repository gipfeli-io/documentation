"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[2425],{2743:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>m,frontMatter:()=>o,metadata:()=>d,toc:()=>s});var n=a(7462),i=(a(7294),a(3905));a(1839);const o={id:"domain-model",sidebar_position:2,title:"Domain Model"},r=void 0,d={unversionedId:"domain/domain-model",id:"domain/domain-model",title:"Domain Model",description:"This section shows the domain model for the gipfeli.io app and explains its components.",source:"@site/docs/domain/domain-model.md",sourceDirName:"domain",slug:"/domain/domain-model",permalink:"/docs/domain/domain-model",draft:!1,tags:[],version:"current",sidebarPosition:2,frontMatter:{id:"domain-model",sidebar_position:2,title:"Domain Model"},sidebar:"tutorialSidebar",previous:{title:"Basics",permalink:"/docs/domain/basics"},next:{title:"Data Model",permalink:"/docs/domain/data-model"}},l={},s=[{value:"<code>User</code>",id:"user",level:2},{value:"<code>Role</code>",id:"role",level:2},{value:"<code>Tour</code>",id:"tour",level:2},{value:"<code>TourCategory</code>",id:"tourcategory",level:2},{value:"<code>UserUpload</code>",id:"userupload",level:2},{value:"<code>Image</code>",id:"image",level:2},{value:"<code>GPXTrack</code>",id:"gpxtrack",level:2},{value:"<code>Waypoint</code>",id:"waypoint",level:2}],p={toc:s};function m(e){let{components:t,...a}=e;return(0,i.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"This section shows the domain model for the gipfeli.io app and explains its components."),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Note that this does not represent the data model directly, but rather the abstract domain. This means that not all\nclasses are represented as designed below or have the exact methods - for example, the ",(0,i.kt)("inlineCode",{parentName:"p"},"Role")," can also be expressed as\nan Enum field on the ",(0,i.kt)("inlineCode",{parentName:"p"},"User")," table itself. Furthermore, more attributes might exist, which are not relevant for the\ndomain model here. For the exact data model, see ",(0,i.kt)("a",{parentName:"p",href:"./data-model"},"its documentation"),"."),(0,i.kt)("p",{parentName:"admonition"},"Since we're also providing an\noffline functionality, some of the attributes might not be present at all times. If you for example create a tour while\nin an offline state, the ",(0,i.kt)("inlineCode",{parentName:"p"},"Tour")," entity might temporarily not have any waypoints, because they can only be added later on\nwhen the tour is synchronized.")),(0,i.kt)("img",{src:"https://www.plantuml.com/plantuml/png/PL9DJyCm3BttLqGzZKchW6F5OH87j1j2c-3gDQQBo4ULkA1gxB_Zf4jRZLFjlEVt_Ank0u6dtkYYqH22E0Jqubm8WGQKvc_7hp_EIovRfBthVLZTpSrAoTWr7e4mFSGMfQAfaQXnmYx5rUZDQOm-5WponpY9dYMYVrZoubnQY1HfJ7AXyQeZvUnolMdWcLLQvuTvXY4u1lBGa9XJ7ZhjG2Pf5TC5SXvQt4cqf3uL-bboPnWGvykrVNdzsBFOrtaYlCFGEMKfYcbWrrx6LRMpxLXFp3mRrOfqxFAX59kDADTbobeBwPhUy18X4nZP95gyMIqK0-ag2OX8LN6LSzVYYD4u27APoBFhqI95gOM1GJJE4YXR56EyaSIi-whYCaSQkIVunXknnoNd1E467bLot1l7nVsVVjapRV3lDGyl3vL2pCJ5Tbkqal_ZFm00",alt:"Domain"}),(0,i.kt)("h2",{id:"user"},(0,i.kt)("inlineCode",{parentName:"h2"},"User")),(0,i.kt)("p",null,"This is the basic entity that interacts with the application. It has a ",(0,i.kt)("inlineCode",{parentName:"p"},"username")," and a ",(0,i.kt)("inlineCode",{parentName:"p"},"password")," used for\nauthenticating and referencing any given user. The user performs the CRUD operations for the ",(0,i.kt)("inlineCode",{parentName:"p"},"Tour")," objects they\ndocument. Additionally, each user has at least one ",(0,i.kt)("inlineCode",{parentName:"p"},"Role")," assigned that governs what they are able to do. Lastly,\na ",(0,i.kt)("inlineCode",{parentName:"p"},"User")," might have some ",(0,i.kt)("inlineCode",{parentName:"p"},"UserUploads")," which are used within a ",(0,i.kt)("inlineCode",{parentName:"p"},"Tour"),"."),(0,i.kt)("h2",{id:"role"},(0,i.kt)("inlineCode",{parentName:"h2"},"Role")),(0,i.kt)("p",null,"Since the application also needs some kind of moderation, each ",(0,i.kt)("inlineCode",{parentName:"p"},"User")," has exactly one ",(0,i.kt)("inlineCode",{parentName:"p"},"Role")," attached. The\ndefault ",(0,i.kt)("inlineCode",{parentName:"p"},"Role")," is identifying any ",(0,i.kt)("inlineCode",{parentName:"p"},"User")," as normal user, allowing them to use the application for managing their\n",(0,i.kt)("inlineCode",{parentName:"p"},"Tours"),". Moderating users have the role ",(0,i.kt)("inlineCode",{parentName:"p"},"administrator")," which gives them the ability to ",(0,i.kt)("inlineCode",{parentName:"p"},"moderateUsers"),",\nmeaning that they can e.g. delete ",(0,i.kt)("inlineCode",{parentName:"p"},"Users"),"."),(0,i.kt)("h2",{id:"tour"},(0,i.kt)("inlineCode",{parentName:"h2"},"Tour")),(0,i.kt)("p",null,"This is the main entity that the website is about and represents a ",(0,i.kt)("inlineCode",{parentName:"p"},"Tour")," that any given ",(0,i.kt)("inlineCode",{parentName:"p"},"User")," has documented. It has\nseveral attributes relating to the description of the ",(0,i.kt)("inlineCode",{parentName:"p"},"Tour")," itself and is always associated with exactly one ",(0,i.kt)("inlineCode",{parentName:"p"},"User")," and\ndeleted when its owning ",(0,i.kt)("inlineCode",{parentName:"p"},"User")," is removed. It\nmay also contain one or more ",(0,i.kt)("inlineCode",{parentName:"p"},"Image")," objects and/or exactly 1 ",(0,i.kt)("inlineCode",{parentName:"p"},"GPXTrack"),". It always consists of 2 ",(0,i.kt)("inlineCode",{parentName:"p"},"Waypoint")," objects (\nstart/endpoint)."),(0,i.kt)("h2",{id:"tourcategory"},(0,i.kt)("inlineCode",{parentName:"h2"},"TourCategory")),(0,i.kt)("p",null,"Each ",(0,i.kt)("inlineCode",{parentName:"p"},"Tour")," is assigned to at least one ",(0,i.kt)("inlineCode",{parentName:"p"},"TourCategory"),", though a ",(0,i.kt)("inlineCode",{parentName:"p"},"Tour")," might also have several ",(0,i.kt)("inlineCode",{parentName:"p"},"TourCategories")," (e.g.\nalpine hike + climbing). ",(0,i.kt)("inlineCode",{parentName:"p"},"TourCategories")," are managed application-wide and can be used by all ",(0,i.kt)("inlineCode",{parentName:"p"},"Users"),"."),(0,i.kt)("h2",{id:"userupload"},(0,i.kt)("inlineCode",{parentName:"h2"},"UserUpload")),(0,i.kt)("p",null,"This is an abstract entity that refers to any upload a given ",(0,i.kt)("inlineCode",{parentName:"p"},"User")," has performed. It has an ID which uniquely\nidentifies any ",(0,i.kt)("inlineCode",{parentName:"p"},"UserUpload"),". Any ",(0,i.kt)("inlineCode",{parentName:"p"},"UserUpload")," is removed if its owning user is removed. It also needs to keep track of\nhow it is identified in the storage used in the application (e.g. the filename within a given storage)."),(0,i.kt)("h2",{id:"image"},(0,i.kt)("inlineCode",{parentName:"h2"},"Image")),(0,i.kt)("p",null,"A ",(0,i.kt)("inlineCode",{parentName:"p"},"Image")," is a ",(0,i.kt)("inlineCode",{parentName:"p"},"UserUpload")," and can be added to any ",(0,i.kt)("inlineCode",{parentName:"p"},"Tour"),". When the ",(0,i.kt)("inlineCode",{parentName:"p"},"Tour")," object is deleted, the associated ",(0,i.kt)("inlineCode",{parentName:"p"},"Image"),"\nobjects are removed as\nwell - they cannot exist without a ",(0,i.kt)("inlineCode",{parentName:"p"},"Tour"),". An ",(0,i.kt)("inlineCode",{parentName:"p"},"Image")," might also have a ",(0,i.kt)("inlineCode",{parentName:"p"},"Waypoint")," when it has GPS tags enabled during\nits caption, allowing its location to be displayed on the map."),(0,i.kt)("h2",{id:"gpxtrack"},(0,i.kt)("inlineCode",{parentName:"h2"},"GPXTrack")),(0,i.kt)("p",null,"A ",(0,i.kt)("inlineCode",{parentName:"p"},"GPXTrack")," is a ",(0,i.kt)("inlineCode",{parentName:"p"},"UserUpload")," and can be added to any ",(0,i.kt)("inlineCode",{parentName:"p"},"Tour"),". When the ",(0,i.kt)("inlineCode",{parentName:"p"},"Tour")," object is deleted, the\nassociated ",(0,i.kt)("inlineCode",{parentName:"p"},"GPXTrack"),"\nobject is removed as\nwell - it cannot exist without a ",(0,i.kt)("inlineCode",{parentName:"p"},"Tour"),"."),(0,i.kt)("h2",{id:"waypoint"},(0,i.kt)("inlineCode",{parentName:"h2"},"Waypoint")),(0,i.kt)("p",null,"A ",(0,i.kt)("inlineCode",{parentName:"p"},"Waypoint")," defines any geographical location by a pair of coordinates."))}m.isMDXComponent=!0}}]);